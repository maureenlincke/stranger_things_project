{"ast":null,"code":"import _objectSpread from\"/home/slinky/course_work/stranger_things_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/slinky/course_work/stranger_things_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import ReactDOM from\"react-dom\";import{BrowserRouter,Route,Link}from\"react-router-dom\";import{Login,Posts,Home,SinglePost,NewPosts}from\"./components\";import{getPage}from\"./apiHelpers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];useEffect(function(){getPage().then(function(page){return setPage(page);});},[]);useEffect(function(){var storedToken=localStorage.getItem('token');if(storedToken){setToken(storedToken);}},[]);return/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/home\",children:\"Home\"}),/*#__PURE__*/_jsx(Link,{to:\"/posts\",children:\"Posts\"}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",children:\"Profile\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"}),/*#__PURE__*/_jsx(Link,{to:\"/newposts\",children:\"New Post\"}),/*#__PURE__*/_jsx(Route,{path:\"/login\",render:function render(routeProps){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},routeProps),{},{setToken:setToken,isLoggedIn:!!token}));}}),/*#__PURE__*/_jsx(Route,{path:\"/register\",render:function render(routeProps){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},routeProps),{},{setToken:setToken,isLoggedIn:!!token}));}}),/*#__PURE__*/_jsx(Route,{path:\"/home\",render:function render(routeProps){return/*#__PURE__*/_jsx(Home,_objectSpread(_objectSpread({},routeProps),{},{isLoggedIn:!!token,token:token}));}}),/*#__PURE__*/_jsx(Route,{path:\"/posts\",render:function render(routeProps){return/*#__PURE__*/_jsx(Posts,_objectSpread(_objectSpread({},routeProps),{},{page:page,isLoggedIn:!!token}));}}),/*#__PURE__*/_jsx(Route,{path:\"/posts/:postId\",render:function render(routeProps){return/*#__PURE__*/_jsx(SinglePost,_objectSpread({},routeProps));}}),/*#__PURE__*/_jsx(Route,{path:\"newposts\",render:function render(routeProps){return/*#__PURE__*/_jsx(NewPosts,_objectSpread(_objectSpread({},routeProps),{},{isLoggedIn:!!token}));}})]});};ReactDOM.render(/*#__PURE__*/_jsx(App,{}),document.getElementById('app'));","map":{"version":3,"sources":["/home/slinky/course_work/stranger_things_project/src/index.js"],"names":["React","useEffect","useState","ReactDOM","BrowserRouter","Route","Link","Login","Posts","Home","SinglePost","NewPosts","getPage","App","token","setToken","page","setPage","then","storedToken","localStorage","getItem","routeProps","render","document","getElementById"],"mappings":"6UAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,IAA/B,KAA2C,kBAA3C,CACA,OAASC,KAAT,CAAgBC,KAAhB,CAAuBC,IAAvB,CAA6BC,UAA7B,CAAyCC,QAAzC,KAAyD,cAAzD,CACA,OAASC,OAAT,KAAwB,cAAxB,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CACd,cAA0BX,QAAQ,CAAC,IAAD,CAAlC,wCAAOY,KAAP,eAAcC,QAAd,eACA,eAAwBb,QAAQ,CAAC,EAAD,CAAhC,yCAAOc,IAAP,eAAaC,OAAb,eAEAhB,SAAS,CAAC,UAAM,CACZW,OAAO,GAAGM,IAAV,CAAe,SAAAF,IAAI,QAAIC,CAAAA,OAAO,CAACD,IAAD,CAAX,EAAnB,EACH,CAFQ,CAEN,EAFM,CAAT,CAIAf,SAAS,CAAC,UAAM,CACZ,GAAMkB,CAAAA,WAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB,CACA,GAAIF,WAAJ,CAAiB,CACbJ,QAAQ,CAACI,WAAD,CAAR,CACH,CACJ,CALQ,CAKN,EALM,CAAT,CAOA,mBAAQ,MAAC,aAAD,yBACJ,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBADI,cAEJ,KAAC,IAAD,EAAM,EAAE,CAAC,OAAT,kBAFI,cAGJ,KAAC,IAAD,EAAM,EAAE,CAAC,QAAT,mBAHI,cAIJ,KAAC,IAAD,EAAM,EAAE,CAAC,UAAT,qBAJI,cAKJ,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,sBALI,cAMJ,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,sBANI,cAQJ,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,MAAM,CAAE,gBAACG,UAAD,qBAAgB,KAAC,KAAD,gCAAWA,UAAX,MAAuB,QAAQ,CAAEP,QAAjC,CAA2C,UAAU,CAAE,CAAC,CAACD,KAAzD,GAAhB,EAA7B,EARI,cASJ,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,MAAM,CAAE,gBAACQ,UAAD,qBAAgB,KAAC,KAAD,gCAAWA,UAAX,MAAuB,QAAQ,CAAEP,QAAjC,CAA2C,UAAU,CAAE,CAAC,CAACD,KAAzD,GAAhB,EAAhC,EATI,cAUJ,KAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,MAAM,CAAE,gBAACQ,UAAD,qBAAgB,KAAC,IAAD,gCAAUA,UAAV,MAAsB,UAAU,CAAE,CAAC,CAACR,KAApC,CAA2C,KAAK,CAAEA,KAAlD,GAAhB,EAA5B,EAVI,cAWJ,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,MAAM,CAAE,gBAACQ,UAAD,qBAAgB,KAAC,KAAD,gCAAWA,UAAX,MAAuB,IAAI,CAAEN,IAA7B,CAAmC,UAAU,CAAE,CAAC,CAACF,KAAjD,GAAhB,EAA7B,EAXI,cAYJ,KAAC,KAAD,EAAO,IAAI,CAAC,gBAAZ,CAA6B,MAAM,CAAE,gBAACQ,UAAD,qBAAgB,KAAC,UAAD,kBAAgBA,UAAhB,EAAhB,EAArC,EAZI,cAaJ,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,CAAuB,MAAM,CAAE,gBAACA,UAAD,qBAAgB,KAAC,QAAD,gCAAcA,UAAd,MAA0B,UAAU,CAAE,CAAC,CAACR,KAAxC,GAAhB,EAA/B,EAbI,GAAR,CAgBH,CA/BD,CAiCAX,QAAQ,CAACoB,MAAT,cACI,KAAC,GAAD,IADJ,CAEIC,QAAQ,CAACC,cAAT,CAAwB,KAAxB,CAFJ","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter, Route, Link } from \"react-router-dom\";\nimport { Login, Posts, Home, SinglePost, NewPosts } from \"./components\";\nimport { getPage } from \"./apiHelpers\";\n\nconst App = () => {\n    const [token, setToken] = useState(null);\n    const [page, setPage] = useState([])\n\n    useEffect(() => {\n        getPage().then(page => setPage(page))\n    }, [])\n\n    useEffect(() => {\n        const storedToken = localStorage.getItem('token');\n        if (storedToken) {\n            setToken(storedToken);\n        }\n    }, [])\n\n    return (<BrowserRouter>\n        <Link to=\"/login\">Login</Link>\n        <Link to=\"/home\">Home</Link>\n        <Link to=\"/posts\">Posts</Link>\n        <Link to=\"/profile\">Profile</Link>\n        <Link to=\"/register\">Register</Link>\n        <Link to=\"/newposts\">New Post</Link>\n        \n        <Route path=\"/login\" render={(routeProps) => <Login {...routeProps} setToken={setToken} isLoggedIn={!!token}/>}/>\n        <Route path=\"/register\" render={(routeProps) => <Login {...routeProps} setToken={setToken} isLoggedIn={!!token}/>}/>\n        <Route path=\"/home\" render={(routeProps) => <Home {...routeProps} isLoggedIn={!!token} token={token}/>}/>\n        <Route path=\"/posts\" render={(routeProps) => <Posts {...routeProps} page={page} isLoggedIn={!!token}/>}/>\n        <Route path=\"/posts/:postId\" render={(routeProps) => <SinglePost {...routeProps} />}/> \n        <Route path=\"newposts\" render={(routeProps) => <NewPosts {...routeProps} isLoggedIn={!!token}/>}/>      \n        \n    </BrowserRouter>)\n}\n\nReactDOM.render(\n    <App />,\n    document.getElementById('app')\n)"]},"metadata":{},"sourceType":"module"}